# =============================================================================
# LTMBSE ACE Algorithm - Environment Configuration
# See docs/SETUP.md for detailed setup instructions and how to obtain each key.
# =============================================================================

# --- LLM Backend Selection ---
# Which backend to use for the main LLM: "gemini" or "openai"
LLM_BACKEND=gemini

# --- Google Gemini (Required) ---
# Used for ACE Reflector (lesson extraction from execution traces)
# Get your key at: https://aistudio.google.com/app/apikey
GEMINI_API_KEY=your-gemini-api-key
GEMINI_MODEL=gemini-3-flash-preview

# --- OpenAI (Required for CL-bench benchmarking) ---
# Used for GPT-5.1 solver and evaluation judge
# Get your key at: https://platform.openai.com/api-keys
OPENAI_API_KEY=your-openai-api-key
OPENAI_MODEL=gpt-5.1
# Optional: custom base URL for OpenAI-compatible APIs (HuggingFace, vLLM, Ollama)
# OPENAI_API_BASE=https://your-endpoint.endpoints.huggingface.cloud/v1

# --- Neo4j Database (Required) ---
# Stores ACE memory bullets persistently
# Create a free instance at: https://console.neo4j.io/?product=aura-db
NEO4J_URI=neo4j+s://xxxxx.databases.neo4j.io
NEO4J_USERNAME=neo4j
NEO4J_PASSWORD=your-password
# Optional: database name for multi-database Neo4j setups (leave unset for default)
# NEO4J_DATABASE=

# --- ACE Algorithm Tuning ---
ACE_LLM_TEMPERATURE=0.2
ACE_CURATOR_SIMILARITY=0.9
ACE_CURATOR_SUPPORT_SIMILARITY=0.95
ACE_CURATOR_USE_LLM=false
ACE_MEMORY_BASE_STRENGTH=100.0
ACE_MEMORY_SIMILARITY_MERGE=0.9

# --- ACE CL-bench Enhancements ---
# Bullet injection: "post_context" (after context, before task) or "pre_context" (original)
ACE_INJECTION_MODE=post_context
# Retrieval scoring weights (for CL-bench, set relevance=0.55 and strength=0.25)
ACE_WEIGHT_RELEVANCE=0.25
ACE_WEIGHT_STRENGTH=0.55
ACE_WEIGHT_TYPE=0.20
# Pre-seed meta-strategy bullets for new contexts
ACE_SEED_META_STRATEGIES=true
# V3 quality gate defaults
ACE_QG_GATE_SCORE_MIN=0.65
ACE_QG_LESSON_SCORE_MIN=0.60
ACE_QG_OVERLAP_MIN=0.10
ACE_QG_MAX_ACCEPTED_LESSONS=2

# --- Optional: Google Custom Search ---
# Enables the google_search tool in ReAct mode
# Setup: https://programmablesearchengine.google.com/controlpanel/create
# GOOGLE_CSE_ID=your-cse-id

# --- Optional: Tavily Search ---
# Enables the deep_research tool in ReAct mode
# Get your key at: https://app.tavily.com (1,000 free credits/month)
# TAVILY_API_KEY=your-tavily-key

# --- Analysis/Debugging ---
# Default learner ID for analyze_memory.py when --learner is not specified
# ACE_ANALYZE_LEARNER_ID=default_user
